<!doctype html><html lang=zh-ch><head><title>在MacOS上安装OpenCV :: 火龙果的博客 — 分享学到的知识</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="最近在参加公司举办的黑客马拉松比赛，由于使用到了OpenCV，简单记录一下如何在MacOS上安装OpenCV。 步骤1：安装Xcode Command Line Tools 由"><meta name=keywords content="MacOS,OSX,python,opencv,安装opencv,install opencv on macos,xcode-select,xcode command line tools"><meta name=robots content=noodp><link rel=canonical href=https://yanlong.me/post/install-opencv-on-macos/><link rel=stylesheet href=https://yanlong.me/assets/style.css><link rel=stylesheet href=https://yanlong.me/assets/blue.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://yanlong.me/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://yanlong.me/img/favicon/blue.png><meta name=twitter:card content=summary><meta name=twitter:title content="在MacOS上安装OpenCV :: 火龙果的博客 — 分享学到的知识"><meta name=twitter:description content="最近在参加公司举办的黑客马拉松比赛，由于使用到了OpenCV，简单记录一下如何在MacOS上安装OpenCV。 步骤1：安装Xcode Command Line Tools 由"><meta name=twitter:site content=https://yanlong.me/><meta name=twitter:creator content><meta name=twitter:image content=https://yanlong.me/images/install-opencv-on-macos/install-opencv-3-on-macos.jpg><meta property=og:locale content=zh-ch><meta property=og:type content=article><meta property=og:title content="在MacOS上安装OpenCV :: 火龙果的博客 — 分享学到的知识"><meta property=og:description content="最近在参加公司举办的黑客马拉松比赛，由于使用到了OpenCV，简单记录一下如何在MacOS上安装OpenCV。 步骤1：安装Xcode Command Line Tools 由"><meta property=og:url content=https://yanlong.me/post/install-opencv-on-macos/><meta property=og:site_name content=在MacOS上安装OpenCV><meta property=og:image content=https://yanlong.me/images/install-opencv-on-macos/install-opencv-3-on-macos.jpg><meta property=og:image:width content=2048><meta property=og:image:height content=1024><meta property=article:published_time content="2019-10-27 10:54:44 &#43;0800 &#43;0800"><link rel=stylesheet href=/assets/github.min.css><script src=/assets/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><script data-ad-client=ca-pub-4136853851848129 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-124887845-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-124887845-1');</script></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=https://yanlong.me/><div class=logo>火龙果的博客</div></a></div><div class=menu-trigger>menu</div></div></header><div class=content><div class=post><h1 class=post-title><a href=https://yanlong.me/post/install-opencv-on-macos/>在MacOS上安装OpenCV</a></h1><div class=post-meta><span class=post-date>2019-10-27</span></div><span class=post-tags>#<a href=https://yanlong.me/tags/macos/>MacOS</a>&nbsp;
#<a href=https://yanlong.me/tags/opencv/>OpenCV</a>&nbsp;
#<a href=https://yanlong.me/tags/python/>Python</a>&nbsp;</span>
<img src=https://yanlong.me/images/install-opencv-on-macos/install-opencv-3-on-macos.jpg class=post-cover><div class=post-content><p>最近在参加公司举办的黑客马拉松比赛，由于使用到了OpenCV，简单记录一下如何在MacOS上安装OpenCV。</p><h2 id=步骤1-安装xcode-command-line-tools>步骤1：安装Xcode Command Line Tools</h2><p>由于安装OpenCV需要用到clang等UNIX工具包，所以先安装Xcode Command Line Tools</p><ol><li>启动<code>终端</code>app</li><li><p>输入如下字符串</p><pre><code class=language-shell>xcode-select --install
</code></pre></li><li><p>将出现一个弹出窗口，询问：“xcode-select需要Xcode Command Line Tools，是否立即安装它？”，点击Install进行安装</p></li><li><p>等待软件包下载完毕，大约140MB，下载时间看网速</p></li><li><p>安装程序消失后，输入<code>git</code>命令，测试是否安装成功</p></li></ol><h2 id=步骤2-安装python3>步骤2：安装Python3</h2><pre><code class=language-shell>brew install python

# 验证python版本
python --version
</code></pre><p>这里使用<code>brew</code>工具安装<code>Python</code>，简单快速。</p><h2 id=步骤3-安装python虚拟环境>步骤3：安装Python虚拟环境</h2><p>我们需要一个项目专用的虚拟环境，用来和全局环境分离，避免安装的依赖污染全局环境</p><pre><code class=language-shell>pip install virtualenv virtualenvwrapper

# 创建虚拟环境
mkvirtualenv venv
workon venv

# 在虚拟环境中安装依赖的软件包
pip install numpy scipy matplotlib scikit-image scikit-learn ipython pandas

# 退出虚拟环境
deactivate
</code></pre><h2 id=步骤4-安装opencv>步骤4：安装OpenCV</h2><ol><li><p>使用brew安装</p><pre><code class=language-shell>brew install opencv
</code></pre></li><li><p>将包含cv2.so的site-packages目录包含到python的site-packages目录内</p><pre><code class=language-shell>echo /usr/local/opt/opencv/lib/python3.7/site-packages &gt;&gt; /usr/local/lib/python3.7/site-packages/opencv3.pth
</code></pre></li></ol><h2 id=步骤5-在虚拟环境中创建opencv的软链接>步骤5：在虚拟环境中创建OpenCV的软链接</h2><p>不同版本的库路径可能不一样，所以需要先进行查找</p><pre><code class=language-shell># 查找so名称
find /usr/local/opt/opencv/lib/ -name cv2*.so

# 在刚刚的venv目录内创建软连接
cd venv/lib/python3.7/site-packages/
ln -s /usr/local/opt/opencv/lib/python3.7/site-packages/cv2/python-3.7/cv2.cpython-37m-darwin.so cv2.so
</code></pre><h2 id=步骤6-测试opencv>步骤6：测试OpenCV</h2><pre><code class=language-shell>workon venv

# 打开ipython
ipython

import cv2

print cv2.__version__
</code></pre><p>至此，OpenCV安装完成</p><p>软件版本为</p><ol><li>OpenCV 4</li><li>Python 3.7</li></ol></div><img src=/images/qrcode.png width=300px style="margin:0 auto"><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://yanlong.me/post/install-dlib-on-macos/><span class=button__icon>←</span>
<span class=button__text>在MacOS上安装Dlib</span></a></span>
<span class="button next"><a href=https://yanlong.me/post/delete-team-viewer-in-full/><span class=button__text>彻底删除Mac上的TeamViewer</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© 2019 Powered by <a href=https://yanlong.me>yanlong.me</a></span>
<span>:: Theme made by panr</span></div></div><div class=footer__inner><div class="copyright copyright--user"><span class=theme-info><a class=theme-link href=https://yuerblog.cc/ target=_blank>鱼儿的博客</a>
<span class=division>|</span>
<a class=theme-link href=http://www.is17.com/ target=_blank>依十七</a>
<span class=division>|</span>
<a class=theme-link href=https://zzrdark.github.io/ target=_blank>zzrdark的技术专栏</a>
<span class=division>|</span>
<a class=theme-link href=https://wujunze.com target=_blank>吴钧泽博客</a></span></div></div></footer><script src=https://yanlong.me/assets/main.js></script></div></body></html>